var af;!function(o){"undefined"!=typeof acf?((af={setup_form:function(e){var a={$el:e};this.pages.initialize(a),"doAction"in acf?acf.doAction("af/form/setup",a):acf.do_action("af/form/setup",a)}}).pages={initialize:function(f){var a=this;if($page_fields=f.$el.find(".acf-field-page"),$page_fields.exists()){f.pages=[],f.current_page=0,f.max_page=0,f.show_numbering=!0,f.$page_wrap=o('<div class="af-page-wrap">'),f.$page_wrap.insertBefore($page_fields.first()),f.$previous_button=$page_fields.first().find(".af-previous-button"),f.$next_button=$page_fields.first().find(".af-next-button"),f.show_numbering="true"===$page_fields.first().find(".af-page-button").attr("data-show-numbering"),f.$previous_button.click(function(e){e.preventDefault(),a.previousPage(f)}),f.$next_button.click(function(e){e.preventDefault(),a.nextPage(f)});var e=f.$el.find(".af-submit");e.prepend(f.$next_button),e.prepend(f.$previous_button),f.$submit_button=e.find(".af-submit-button"),$page_fields.each(function(a,e){var t=o(e),i=t.find(".af-page-button").attr("data-index",a);i.click(function(e){e.preventDefault(),af.pages.navigateToPage(a,f)}),f.show_numbering&&($index=o('<span class="index">').html(a+1),i.prepend($index)),f.$page_wrap.append(i),t.hide();var n=t.nextUntil(".acf-field-page",".acf-field");f.pages.push({$field:t,$fields:n,$button:i})}),this.refresh(f)}},refresh:function(i){o.each(i.pages,function(e,a){var t=e==i.current_page;a.$button.toggleClass("enabled",e<=i.max_page),a.$button.toggleClass("current",t),a.$fields.each(function(){o(this).toggle(t)})});var e=this.isFirstPage(i),a=this.isLastPage(i);i.$previous_button.attr("disabled",!!e||null),i.$next_button.toggle(!a),i.$submit_button.toggle(a)},nextPage:function(e){if(!this.isLastPage(e)){var a=this;this.validatePage(e,e.current_page,function(){e.current_page++,e.max_page<=e.current_page&&(e.max_page=e.current_page),a.refresh(e)})}},previousPage:function(e){this.isFirstPage(e)||(e.current_page--,this.refresh(e))},navigateToPage:function(e,a){if(!(e<0||e>a.max_page)){var t=this;this.validatePage(a,a.current_page,function(){a.current_page=e,t.refresh(a)})}},isFirstPage:function(e){return 0==e.current_page},isLastPage:function(e){return e.current_page==e.pages.length-1},validatePage:function(a,e,t){var i=a.pages[e],n=o("<div>");n.append(a.$el.find("#acf-form-data").clone()),n.append(a.$el.find(".acf-hidden").clone());var f=i.$fields.detach();n.append(f);var r=acf.serialize(n);if(f.detach().insertAfter(i.$field),r.action="acf/validate_save_post",r=acf.prepare_for_ajax(r),void 0!==acf.validation.lockForm){var c=function(){return r};acf.addFilter("prepare_for_ajax",c),acf.validation.fetch({form:a.$el,lock:!1,reset:!0,success:function(){t()}}),acf.removeFilter("prepare_for_ajax",c)}else{acf.validation.toggle(a.$el,"lock"),(r=acf.serialize(i.$fields.clone())).action="acf/validate_save_post",r=acf.prepare_for_ajax(r),o.ajax({url:acf.get("ajaxurl"),data:r,type:"post",dataType:"json",success:function(e){acf.validation.toggle(a.$el,"unlock"),acf.is_ajax_success(e)&&acf.validation.fetch_success(a.$el,e.data)},complete:function(){acf.validation.valid&&(acf.remove_el(a.$el.children(".acf-error-message")),t())}})}}},o(document).ready(function(){o(".af-form").each(function(){af.setup_form(o(this))})})):console.error("acf-input.js not found. AF requires ACF to work.")}(jQuery),function(f){af.calculated={initialize:function(t){$calculated_fields=t.$el.find(".acf-field-calculated"),$calculated_fields.each(function(e,a){af.calculated.setupField(t,f(a))})},setupField:function(e,a){var t=this;t.refreshField(e,a),e.$el.change(function(){t.refreshField(e,a)})},refreshField:function(e,a){var t=this,i=a.attr("data-key"),n=acf.serialize(e.$el);n.action="af_calculated_field",n.calculated_field=i,n=acf.prepare_for_ajax(n),t.lockField(a),f.ajax({url:acf.get("ajaxurl"),data:n,type:"post",success:function(e){t.updateField(a,e)},complete:function(){t.unlockField(a)}})},updateField:function(e,a){e.find(".af-input").html(a)},lockField:function(e){e.find(".af-input").css("opacity",.5)},unlockField:function(e){e.find(".af-input").css("opacity",1)}},"addAction"in acf?acf.addAction("af/form/setup",af.calculated.initialize):acf.add_action("af/form/setup",af.calculated.initialize),af.addPostID=function(e){if(!e.hasOwnProperty("field_key"))return e;var a=e.field_key,t=f('.af-field[data-key="'+a+'"]');if(!t.length)return e;var i=t.siblings(".acf-hidden").find('input[name="post_id"]');return i.length&&(e.post_id=i.val()),e},"addFilter"in acf?acf.addFilter("prepare_for_ajax",af.addPostID):acf.add_filter("prepare_for_ajax",af.addPostID)}(jQuery);